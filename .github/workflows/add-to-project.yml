# .github/workflows/add-to-project.yml
# This workflow automatically adds newly created issues to your "Support" project board.

name: "Auto-add new issues to Support Board"

on:
  issues:
    types: [opened] # This action only runs when an issue is created

jobs:
  add-to-project:
    name: "Add issue to Support project"
    runs-on: "ubuntu-latest"
    
    # We removed the 'permissions:' block entirely, as it's not supported
    # on the GitHub Free plan for the 'projects' scope.

    steps:
      - name: "Add to the 'Inbox' column"
        # We'll use a main version tag (v6) for the latest updates
        uses: "peter-evans/add-to-project@v6.0.0"
        with:
          # The URL of your project board.
          project-url: "https://github.com/orgs/National-Tutoring-Observatory/projects/24"
          
          # This token comes from your Organization's Actions Secrets
          github-token: "${{ secrets.ORG_PROJECT_TOKEN }}"
          
          # This finds the column named "Inbox" on your board.
          # Make sure this name is an exact, case-sensitive match.
          column-name: "Inbox"
