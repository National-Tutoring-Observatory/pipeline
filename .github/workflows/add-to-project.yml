# .github/workflows/add-to-project.yml
# This workflow automatically adds newly created issues to your "Support" project board.

name: "Auto-add new issues to Support Board"

on:
  issues:
    types: [opened] # This action only runs when an issue is created

jobs:
  add-to-project:
    name: "Add issue to Support project"
    runs-on: "ubuntu-latest"
    
    # This permissions block is required to allow the action to write to your project
    permissions:
      issues: write
      projects: write # Use this for org/user projects. Use 'repository-projects: write' for repo projects

    steps:
      - name: "Add to the 'Inbox' column" # <-- Updated
        # This uses the current, well-maintained action version (v5.1.0)
        uses: "peter-evans/add-to-project@v5.1.0"
        with:
          # The URL of your project board.
          project-url: "https://github.com/orgs/National-Tutoring-Observatory/projects/24"
          
          # This token is automatically provided by GitHub
          github-token: "${{ secrets.GITHUB_TOKEN }}"
          
          # This finds the column named "Inbox" on your board and adds the issue there.
          column-name: "Inbox" # <-- Updated
